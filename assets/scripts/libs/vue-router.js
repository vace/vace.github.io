/*!
 * vue-router v0.7.6
 * (c) 2015 Evan You
 * Released under the MIT License.
 */

(function(e,t){typeof exports=="object"&&typeof module!="undefined"?module.exports=t():typeof define=="function"&&define.amd?define(t):e.VueRouter=t()})(this,function(){"use strict";function t(e,t,n){this.path=e,this.matcher=t,this.delegate=n}function n(e){this.routes={},this.children={},this.target=e}function r(e,n,i){return function(s,o){var u=e+s;if(!o)return new t(e+s,n,i);o(r(u,n,i))}}function i(e,t,n){var r=0;for(var i=0,s=e.length;i<s;i++)r+=e[i].path.length;t=t.substr(r);var o={path:t,handler:n};e.push(o)}function s(e,t,n,r){var o=t.routes;for(var u in o)if(o.hasOwnProperty(u)){var a=e.slice();i(a,u,o[u]),t.children[u]?s(a,t.children[u],n,r):n.call(r,a)}}function o(e,t){var i=new n;e(r("",i,this.delegate)),s([],i,function(e){t?t(this,e):this.add(e)},this)}function f(e){return Object.prototype.toString.call(e)==="[object Array]"}function l(e){this.string=e}function c(e){this.name=e}function h(e){this.name=e}function p(){}function d(e,t,n){e.charAt(0)==="/"&&(e=e.substr(1));var r=e.split("/"),i=[];n.val="";for(var s=0,o=r.length;s<o;s++){var u=r[s],a;(a=u.match(/^:([^\/]+)$/))?(i.push(new c(a[1])),t.push(a[1]),n.val+="3"):(a=u.match(/^\*([^\/]+)$/))?(i.push(new h(a[1])),n.val+="2",t.push(a[1])):u===""?(i.push(new p),n.val+="1"):(i.push(new l(u)),n.val+="4")}return n.val=+n.val,i}function v(e){this.charSpec=e,this.nextStates=[]}function m(e){return e.sort(function(e,t){return t.specificity.val-e.specificity.val})}function g(e,t){var n=[];for(var r=0,i=e.length;r<i;r++){var s=e[r];n=n.concat(s.match(t))}return n}function b(e){this.queryParams=e||{}}function w(e,t,n){var r=e.handlers,i=e.regex,s=t.match(i),o=1,u=new b(n);for(var a=0,f=r.length;a<f;a++){var l=r[a],c=l.names,h={};for(var p=0,d=c.length;p<d;p++)h[c[p]]=s[o++];u.push({handler:l.handler,params:h,isDynamic:!!c.length})}return u}function E(e,t){return t.eachChar(function(t){var n;e=e.put(t)}),e}function S(e){return e=e.replace(/\+/gm,"%20"),decodeURIComponent(e)}function C(e){window.console&&(console.warn("[vue-router] "+e),(!N.Vue||N.Vue.config.debug)&&console.warn((new Error("warning stack trace:")).stack))}function k(e,t,n){var r=e.match(/(\?.*)$/);r&&(r=r[1],e=e.slice(0,-r.length));if(t.charAt(0)==="?")return e+t;var i=e.split("/");(!n||!i[i.length-1])&&i.pop();var s=t.replace(/^\//,"").split("/");for(var o=0;o<s.length;o++){var u=s[o];if(u===".")continue;u===".."?i.pop():i.push(u)}return i[0]!==""&&i.unshift(""),i.join("/")}function L(e){return e&&typeof e.then=="function"}function A(e,t){var n=e&&(e.$options||e.options);return n&&n.route&&n.route[t]}function M(e,t){O?O.$options.components._=e.component:O={resolve:N.Vue.prototype._resolveComponent,$options:{components:{_:e.component}}},O.resolve("_",function(n){e.component=n,t(n)})}function _(e,t,n){return t===undefined&&(t={}),e=e.replace(/:([^\/]+)/g,function(n,r){var i=t[r];return i||C('param "'+r+'" not found when generating '+'path for "'+e+'" with params '+JSON.stringify(t)),i||""}),n&&(e+=T(n)),e}function j(e,t,n){var r=e.childVM;if(!r||!t)return!1;if(e.Component!==t.component)return!1;var i=A(r,"canReuse");return typeof i=="boolean"?i:i?i.call(r,{to:n.to,from:n.from}):!0}function F(e,t,n){var r=e.childVM,i=A(r,"canDeactivate");i?t.callHook(i,r,n,{expectBoolean:!0}):n()}function I(e,t,n){M(e,function(e){if(t.aborted)return;var r=A(e,"canActivate");r?t.callHook(r,null,n,{expectBoolean:!0}):n()})}function q(e,t,n){var r=e.childVM,i=A(r,"deactivate");i?t.callHooks(i,r,n):n()}function R(e,t,n,r,i){var s=t.activateQueue[n];if(!s){e._bound&&e.setComponent(null),r&&r();return}var o=e.Component=s.component,u=A(o,"activate"),a=A(o,"data"),f=A(o,"waitForData");e.depth=n,e.activated=!1;var l=undefined,c=!!a&&!f;i=i&&e.childVM&&e.childVM.constructor===o;if(i)l=e.childVM,l.$loadingRouteData=c;else{e.unbuild(!0);if(e.keepAlive){var h=t.router._views,p=h.indexOf(e);p>0&&(t.router._views=h.slice(p),e.childVM&&(e.childVM._routerViews=h.slice(0,p)))}l=e.build({_meta:{$loadingRouteData:c}});if(e.keepAlive){l.$loadingRouteData=c;var d=l._routerViews;d&&(t.router._views=d.concat(t.router._views),e.childView=d[d.length-1],l._routerViews=null)}}var v=function(){l.$destroy()},m=function(){if(i){r&&r();return}var s=t.router;s._rendered||s._transitionOnLoad?e.transition(l):(e.setCurrent?e.setCurrent(l):e.childVM=l,l.$before(e.anchor,null,!1)),r&&r()},g=function(){e.activated=!0,e.childView&&R(e.childView,t,n+1,null,i||e.keepAlive),a&&f?z(l,t,a,m,v):(a&&z(l,t,a),m())};u?t.callHooks(u,l,g,{cleanup:v}):g()}function U(e,t){var n=e.childVM,r=A(n,"data");r&&z(n,t,r)}function z(e,t,n,r,i){e.$loadingRouteData=!0,t.callHooks(n,e,function(t,n){Array.isArray(t)&&t._needMerge&&(t=t.reduce(function(e,t){return W(t)&&Object.keys(t).forEach(function(n){e[n]=t[n]}),e},Object.create(null)));var i=[];W(t)&&Object.keys(t).forEach(function(n){var r=t[n];L(r)?i.push(r.then(function(t){e.$set(n,t)})):e.$set(n,r)}),i.length?i[0].constructor.all(i).then(function(t){e.$loadingRouteData=!1,r&&r()},n):(e.$loadingRouteData=!1,r&&r())},{cleanup:i,expectData:!0})}function W(e){return Object.prototype.toString.call(e)==="[object Object]"}function V(e){return Object.prototype.toString.call(e)==="[object Object]"}function K(e){var t=e.util,n=e.prototype._init;e.prototype._init=function(e){var r=e._parent||e.parent||this,i=r.$route;i&&(i.router._children.push(this),this.$route||(this._defineMeta?this._defineMeta("$route",i):t.defineReactive(this,"$route",i))),n.call(this,e)};var r=e.prototype._destroy;e.prototype._destroy=function(){if(!this._isBeingDestroyed){var e=this.$root.$route;e&&e.router._children.$remove(this),r.apply(this,arguments)}};var i=e.config.optionMergeStrategies,s=/^(data|activate|deactivate)$/;i&&(i.route=function(e,n){if(!n)return e;if(!e)return n;var r={};t.extend(r,e);for(var i in n){var o=r[i],u=n[i];o&&s.test(i)?r[i]=(t.isArray(o)?o:[o]).concat(u):r[i]=u}return r})}function Q(e){var t=e.util,n=e.directive("_component")||e.internalDirectives.component,r=t.extend({},n);t.extend(r,{_isRouterView:!0,bind:function(){var t=this.vm.$route;if(!t){C("<router-view> can only be used inside a router-enabled app.");return}this._isDynamicLiteral=!0,n.bind.call(this);var r=this.router=t.router;r._views.unshift(this);var i=r._views[1];i&&(i.childView=this);var s=t.router._currentTransition;if(!i&&s.done||i&&i.activated){var o=i?i.depth+1:0;R(this,s,o)}},unbind:function(){this.router._views.$remove(this),n.unbind.call(this)}}),e.elementDirective("router-view",r)}function Z(e){function n(e){return e.protocol===location.protocol&&e.hostname===location.hostname&&e.port===location.port}var t=e.util;e.directive("link",{bind:function(){var r=this,i=this.vm;if(!i.$route){C("v-link can only be used inside a router-enabled app.");return}var s=i.$route.router;this.handler=function(e){if(e.metaKey||e.ctrlKey||e.shiftKey)return;if(e.defaultPrevented)return;if(e.button!==0)return;var t=r.target,i=function(n){e.preventDefault(),n!=null&&s.go(n)};if(r.el.tagName==="A"||e.target===r.el)i(t);else{var o=e.target;while(o&&o.tagName!=="A"&&o!==r.el)o=o.parentNode;if(!o)return;o.tagName!=="A"||!o.href?i(t):n(o)&&i({path:o.pathname,replace:t&&t.replace,append:t&&t.append})}},this.el.addEventListener("click",this.handler),this.unwatch=i.$watch("$route.path",t.bind(this.updateClasses,this))},update:function(n){var r=this.vm.$route.router,i=undefined;this.target=n,t.isObject(n)&&(i=n.append,this.exact=n.exact,this.prevActiveClass=this.activeClass,this.activeClass=n.activeClass),n=this.path=r._stringifyPath(n),this.activeRE=n&&!this.exact?new RegExp("^"+n.replace(/\/$/,"").replace(Y,"\\$&")+"(\\/|$)"):null,this.updateClasses(this.vm.$route.path);var s=n.charAt(0)==="/",o=n&&(r.mode==="hash"||s)?r.history.formatPath(n,i):n;this.el.tagName==="A"&&(o?this.el.href=o:this.el.removeAttribute("href"))},updateClasses:function(n){var r=this.el,i=this.path,s=this.vm.$route.router,o=this.activeClass||s._linkActiveClass;this.prevActiveClass!==o&&t.removeClass(r,this.prevActiveClass),n=n.replace(/\?.*$/,""),this.exact?i===n||i.charAt(i.length-1)!=="/"&&i===n.replace(G,"")?t.addClass(r,o):t.removeClass(r,o):this.activeRE&&this.activeRE.test(n)?t.addClass(r,o):t.removeClass(r,o)},unbind:function(){this.el.removeEventListener("click",this.handler),this.unwatch&&this.unwatch()}})}function rt(e,t){var n=t.component;tt.util.isPlainObject(n)&&(n=t.component=tt.extend(n)),typeof n!="function"&&(t.component=null,C('invalid component for route "'+e+'".'))}var e={};e.classCallCheck=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},t.prototype={to:function(t,n){var r=this.delegate;r&&r.willAddRoute&&(t=r.willAddRoute(this.matcher.target,t)),this.matcher.add(this.path,t);if(n){if(n.length===0)throw new Error("You must have an argument in the function passed to `to`");this.matcher.addChild(this.path,t,n,this.delegate)}return this}},n.prototype={add:function(t,n){this.routes[t]=n},addChild:function(t,i,s,o){var u=new n(i);this.children[t]=u;var a=r(t,u,o);o&&o.contextEntered&&o.contextEntered(i,a),s(a)}};var u=["/",".","*","+","?","|","(",")","[","]","{","}","\\"],a=new RegExp("(\\"+u.join("|\\")+")","g");l.prototype={eachChar:function(t){var n=this.string,r;for(var i=0,s=n.length;i<s;i++)r=n.charAt(i),t({validChars:r})},regex:function(){return this.string.replace(a,"\\$1")},generate:function(){return this.string}},c.prototype={eachChar:function(t){t({invalidChars:"/",repeat:!0})},regex:function(){return"([^/]+)"},generate:function(t){return t[this.name]}},h.prototype={eachChar:function(t){t({invalidChars:"",repeat:!0})},regex:function(){return"(.+)"},generate:function(t){return t[this.name]}},p.prototype={eachChar:function(){},regex:function(){return""},generate:function(){return""}},v.prototype={get:function(t){var n=this.nextStates;for(var r=0,i=n.length;r<i;r++){var s=n[r],o=s.charSpec.validChars===t.validChars;o=o&&s.charSpec.invalidChars===t.invalidChars;if(o)return s}},put:function(t){var n;return(n=this.get(t))?n:(n=new v(t),this.nextStates.push(n),t.repeat&&n.nextStates.push(n),n)},match:function(t){var n=this.nextStates,r,i,s,o=[];for(var u=0,a=n.length;u<a;u++)r=n[u],i=r.charSpec,typeof (s=i.validChars)!="undefined"?s.indexOf(t)!==-1&&o.push(r):typeof (s=i.invalidChars)!="undefined"&&s.indexOf(t)===-1&&o.push(r);return o}};var y=Object.create||function(e){function t(){}return t.prototype=e,new t};b.prototype=y({splice:Array.prototype.splice,slice:Array.prototype.slice,push:Array.prototype.push,length:0,queryParams:null});var x=function(){this.rootState=new v,this.names={}};x.prototype={add:function(t,n){var r=this.rootState,i="^",s={},o=[],u=[],a,f=!0;for(var l=0,c=t.length;l<c;l++){var h=t[l],v=[],m=d(h.path,v,s);u=u.concat(m);for(var g=0,y=m.length;g<y;g++){var b=m[g];if(b instanceof p)continue;f=!1,r=r.put({validChars:"/"}),i+="/",r=E(r,b),i+=b.regex()}var w={handler:h.handler,names:v};o.push(w)}f&&(r=r.put({validChars:"/"}),i+="/"),r.handlers=o,r.regex=new RegExp(i+"$"),r.specificity=s;if(a=n&&n.as)this.names[a]={segments:u,handlers:o}},handlersFor:function(t){var n=this.names[t],r=[];if(!n)throw new Error("There is no route named "+t);for(var i=0,s=n.handlers.length;i<s;i++)r.push(n.handlers[i]);return r},hasRoute:function(t){return!!this.names[t]},generate:function(t,n){var r=this.names[t],i="";if(!r)throw new Error("There is no route named "+t);var s=r.segments;for(var o=0,u=s.length;o<u;o++){var a=s[o];if(a instanceof p)continue;i+="/",i+=a.generate(n)}return i.charAt(0)!=="/"&&(i="/"+i),n&&n.queryParams&&(i+=this.generateQueryString(n.queryParams)),i},generateQueryString:function(t){var n=[],r=[];for(var i in t)t.hasOwnProperty(i)&&r.push(i);r.sort();for(var s=0,o=r.length;s<o;s++){i=r[s];var u=t[i];if(u==null)continue;var a=encodeURIComponent(i);if(f(u))for(var l=0,c=u.length;l<c;l++){var h=i+"[]"+"="+encodeURIComponent(u[l]);n.push(h)}else a+="="+encodeURIComponent(u),n.push(a)}return n.length===0?"":"?"+n.join("&")},parseQueryString:function(t){var n=t.split("&"),r={};for(var i=0;i<n.length;i++){var s=n[i].split("="),o=S(s[0]),u=o.length,a=!1,f;s.length===1?f="true":(u>2&&o.slice(u-2)==="[]"&&(a=!0,o=o.slice(0,u-2),r[o]||(r[o]=[])),f=s[1]?S(s[1]):""),a?r[o].push(f):r[o]=f}return r},recognize:function(t){var n=[this.rootState],r,i,s,o,u={},a=!1;o=t.indexOf("?");if(o!==-1){var f=t.substr(o+1,t.length);t=t.substr(0,o),u=this.parseQueryString(f)}t=decodeURI(t),t.charAt(0)!=="/"&&(t="/"+t),r=t.length,r>1&&t.charAt(r-1)==="/"&&(t=t.substr(0,r-1),a=!0);for(i=0,s=t.length;i<s;i++){n=g(n,t.charAt(i));if(!n.length)break}var l=[];for(i=0,s=n.length;i<s;i++)n[i].handlers&&l.push(n[i]);n=m(l);var c=l[0];if(c&&c.handlers)return a&&c.regex.source.slice(-5)==="(.+)$"&&(t+="/"),w(c,t,u)}},x.prototype.map=o,x.VERSION="0.1.9";var T=x.prototype.generateQueryString,N={},O=undefined,D=/#.*$/,P=function(){function t(n){var r=n.root,i=n.onChange;e.classCallCheck(this,t),r?(r.charAt(0)!=="/"&&(r="/"+r),this.root=r.replace(/\/$/,""),this.rootRE=new RegExp("^\\"+this.root)):this.root=null,this.onChange=i;var s=document.querySelector("base");this.base=s&&s.getAttribute("href")}return t.prototype.start=function(){var t=this;this.listener=function(e){var n=decodeURI(location.pathname+location.search);t.root&&(n=n.replace(t.rootRE,"")),t.onChange(n,e&&e.state,location.hash)},window.addEventListener("popstate",this.listener),this.listener()},t.prototype.stop=function(){window.removeEventListener("popstate",this.listener)},t.prototype.go=function(t,n,r){var i=this.formatPath(t,r);n?history.replaceState({},"",i):(history.replaceState({pos:{x:window.pageXOffset,y:window.pageYOffset}},""),history.pushState({},"",i));var s=t.match(D),o=s&&s[0];t=i.replace(D,"").replace(this.rootRE,""),this.onChange(t,null,o)},t.prototype.formatPath=function(t,n){return t.charAt(0)==="/"?this.root?this.root+"/"+t.replace(/^\//,""):t:k(this.base||location.pathname,t,n)},t}(),H=function(){function t(n){var r=n.hashbang,i=n.onChange;e.classCallCheck(this,t),this.hashbang=r,this.onChange=i}return t.prototype.start=function(){var t=this;this.listener=function(){var e=location.hash,n=e.replace(/^#!?/,"");n.charAt(0)!=="/"&&(n="/"+n);var r=t.formatPath(n);if(r!==e){location.replace(r);return}var i=decodeURI(e.replace(/^#!?/,"")+location.search);t.onChange(i)},window.addEventListener("hashchange",this.listener),this.listener()},t.prototype.stop=function(){window.removeEventListener("hashchange",this.listener)},t.prototype.go=function(t,n,r){t=this.formatPath(t,r),n?location.replace(t):location.hash=t},t.prototype.formatPath=function(t,n){var r=t.charAt(0)==="/",i="#"+(this.hashbang?"!":"");return r?i+t:i+k(location.hash.replace(/^#!?/,""),t,n)},t}(),B=function(){function t(n){var r=n.onChange;e.classCallCheck(this,t),this.onChange=r,this.currentPath="/"}return t.prototype.start=function(){this.onChange("/")},t.prototype.stop=function(){},t.prototype.go=function(t,n,r){t=this.currentPath=this.formatPath(t,r),this.onChange(t)},t.prototype.formatPath=function(t,n){return t.charAt(0)==="/"?t:k(this.currentPath,t,n)},t}(),X=function(){function t(n,r,i){e.classCallCheck(this,t),this.router=n,this.to=r,this.from=i,this.next=null,this.aborted=!1,this.done=!1,this.deactivateQueue=n._views;var s=r.matched?Array.prototype.slice.call(r.matched):[];this.activateQueue=s.map(function(e){return e.handler})}return t.prototype.abort=function(){if(!this.aborted){this.aborted=!0;var t=!this.from.path&&this.to.path==="/";t||this.router.replace(this.from.path||"/")}},t.prototype.redirect=function(t){this.aborted||(this.aborted=!0,typeof t=="string"?t=_(t,this.to.params,this.to.query):(t.params=this.to.params,t.query=this.to.query),this.router.replace(t))},t.prototype.start=function(t){var n=this,r=this.deactivateQueue,i=this.activateQueue,s=r.slice().reverse(),o=undefined,u=undefined;for(u=0;u<s.length;u++)if(!j(s[u],i[u],n))break;u>0&&(o=s.slice(0,u),r=s.slice(u).reverse(),i=i.slice(u)),n.runQueue(r,F,function(){n.runQueue(i,I,function(){n.runQueue(r,q,function(){n.router._onTransitionValidated(n),o&&o.forEach(function(e){U(e,n)});if(r.length){var e=r[r.length-1],i=o?o.length:0;R(e,n,i,t)}else t()})})})},t.prototype.runQueue=function(t,n,r){function s(e){e>=t.length?r():n(t[e],i,function(){s(e+1)})}var i=this;s(0)},t.prototype.callHook=function(t,n,r){var i=arguments.length<=3||arguments[3]===undefined?{}:arguments[3],s=i.expectBoolean,o=s===undefined?!1:s,u=i.expectData,a=u===undefined?!1:u,f=i.cleanup,l=this,c=!1,h=function(){f&&f(),l.abort()},p=function(t){f?d():h();if(t&&!l.router._suppress)throw C("Uncaught error during transition: "),t instanceof Error?t:new Error(t)},d=function(t){if(c){C("transition.next() should be called only once.");return}c=!0;if(l.aborted){f&&f();return}r&&r(t,p)},v={to:l.to,from:l.from,abort:h,next:d,redirect:function(){l.redirect.apply(l,arguments)}},m=undefined;try{m=t.call(n,v)}catch(g){return p(g)}var y=L(m);o?typeof m=="boolean"?m?d():h():y?m.then(function(e){e?d():h()},p):t.length||d(m):y?m.then(d,p):(a&&V(m)||!t.length)&&d(m)},t.prototype.callHooks=function(t,n,r,i){var s=this;Array.isArray(t)?function(){var e=[];e._needMerge=!0;var o=undefined;s.runQueue(t,function(t,r,o){s.aborted||s.callHook(t,n,function(t,n){t&&e.push(t),n=n,o()},i)},function(){r(e,o)})}():this.callHook(t,n,r,i)},t}(),$=/^(component|subRoutes)$/,J=function it(t,n){var r=this;e.classCallCheck(this,it);var i=n._recognizer.recognize(t);i&&([].forEach.call(i,function(e){for(var t in e.handler)$.test(t)||(r[t]=e.handler[t])}),this.query=i.queryParams,this.params=[].reduce.call(i,function(e,t){if(t.params)for(var n in t.params)e[n]=t.params[n];return e},{})),this.path=t,this.router=n,this.matched=i||n._notFoundHandler,Object.freeze(this)},G=/\/$/,Y=/[-.*+?^${}()|[\]\/\\]/g,et={"abstract":B,hash:H,html5:P},tt=undefined,nt=function(){function t(){var n=arguments.length<=0||arguments[0]===undefined?{}:arguments[0],r=n.hashbang,i=r===undefined?!0:r,s=n.abstract,o=s===undefined?!1:s,u=n.history,a=u===undefined?!1:u,f=n.saveScrollPosition,l=f===undefined?!1:f,c=n.transitionOnLoad,h=c===undefined?!1:c,p=n.suppressTransitionError,d=p===undefined?!1:p,v=n.root,m=v===undefined?null:v,g=n.linkActiveClass,y=g===undefined?"v-link-active":g;e.classCallCheck(this,t);if(!t.installed)throw new Error("Please install the Router with Vue.use() before creating an instance.");this.app=null,this._views=[],this._children=[],this._recognizer=new x,this._guardRecognizer=new x,this._started=!1,this._startCb=null,this._currentRoute={},this._currentTransition=null,this._previousTransition=null,this._notFoundHandler=null,this._notFoundRedirect=null,this._beforeEachHooks=[],this._afterEachHooks=[],this._hasPushState=typeof window!="undefined"&&window.history&&window.history.pushState,this._rendered=!1,this._transitionOnLoad=h,this._abstract=o,this._hashbang=i,this._history=this._hasPushState&&a,this._saveScrollPosition=l,this._linkActiveClass=y,this._suppress=d;var b=tt.util.inBrowser;this.mode=!b||this._abstract?"abstract":this._history?"html5":"hash";var w=et[this.mode],E=this;this.history=new w({root:m,hashbang:this._hashbang,onChange:function(t,n,r){E._match(t,n,r)}})}return t.prototype.map=function(t){for(var n in t)this.on(n,t[n])},t.prototype.on=function(t,n){t==="*"?this._notFound(n):this._addRoute(t,n,[])},t.prototype.redirect=function(t){for(var n in t)this._addRedirect(n,t[n])},t.prototype.alias=function(t){for(var n in t)this._addAlias(n,t[n])},t.prototype.beforeEach=function(t){this._beforeEachHooks.push(t)},t.prototype.afterEach=function(t){this._afterEachHooks.push(t)},t.prototype.go=function(t){var n=!1,r=!1;tt.util.isObject(t)&&(n=t.replace,r=t.append),t=this._stringifyPath(t),t&&this.history.go(t,n,r)},t.prototype.replace=function(t){typeof t=="string"&&(t={path:t}),t.replace=!0,this.go(t)},t.prototype.start=function(t,n,r){if(this._started){C("already started.");return}this._started=!0,this._startCb=r;if(!this.app){if(!t||!n)throw new Error("Must start vue-router with a component and a root container.");this._appContainer=n;var i=this._appConstructor=typeof t=="function"?t:tt.extend(t);i.options.name=i.options.name||"RouterApp"}this.history.start()},t.prototype.stop=function(){this.history.stop(),this._started=!1},t.prototype._addRoute=function(t,n,r){rt(t,n),n.path=t,n.fullPath=(r.reduce(function(e,t){return e+t.path},"")+t).replace("//","/"),r.push({path:t,handler:n}),this._recognizer.add(r,{as:n.name});if(n.subRoutes)for(var i in n.subRoutes)this._addRoute(i,n.subRoutes[i],r.slice())},t.prototype._notFound=function(t){rt("*",t),this._notFoundHandler=[{handler:t}]},t.prototype._addRedirect=function(t,n){t==="*"?this._notFoundRedirect=n:this._addGuard(t,n,this.replace)},t.prototype._addAlias=function(t,n){this._addGuard(t,n,this._match)},t.prototype._addGuard=function(t,n,r){var i=this;this._guardRecognizer.add([{path:t,handler:function(t,s){var o=_(n,t.params,s);r.call(i,o)}}])},t.prototype._checkGuard=function(t){var n=this._guardRecognizer.recognize(t);if(n)return n[0].handler(n[0],n.queryParams),!0;if(this._notFoundRedirect){n=this._recognizer.recognize(t);if(!n)return this.replace(this._notFoundRedirect),!0}},t.prototype._match=function(t,n,r){var i=this;if(this._checkGuard(t))return;var s=this._currentRoute,o=this._currentTransition;if(o){if(o.to.path===t)return;if(s.path===t){o.aborted=!0,this._currentTransition=this._prevTransition;return}o.aborted=!0}var u=new J(t,this),a=new X(this,u,s);this._prevTransition=o,this._currentTransition=a,this.app||(this.app=new this._appConstructor({el:this._appContainer,_meta:{$route:u}}));var f=this._beforeEachHooks,l=function(){a.start(function(){i._postTransition(u,n,r)})};f.length?a.runQueue(f,function(e,t,n){a===i._currentTransition&&a.callHook(e,null,n,{expectBoolean:!0})},l):l(),!this._rendered&&this._startCb&&this._startCb.call(null),this._rendered=!0},t.prototype._onTransitionValidated=function(t){var n=this._currentRoute=t.to;this.app.$route!==n&&(this.app.$route=n,this._children.forEach(function(e){e.$route=n})),this._afterEachHooks.length&&this._afterEachHooks.forEach(function(e){return e.call(null,{to:t.to,from:t.from})}),this._currentTransition.done=!0},t.prototype._postTransition=function(t,n,r){var i=n&&n.pos;i&&this._saveScrollPosition?tt.nextTick(function(){window.scrollTo(i.x,i.y)}):r&&tt.nextTick(function(){var e=document.getElementById(r.slice(1));e&&window.scrollTo(window.scrollX,e.offsetTop)})},t.prototype._stringifyPath=function(t){if(t&&typeof t=="object"){if(t.name){var n=t.params||{};return t.query&&(n.queryParams=t.query),this._recognizer.generate(t.name,n)}if(t.path){var r=t.path;if(t.query){var i=this._recognizer.generateQueryString(t.query);r.indexOf("?")>-1?r+="&"+i.slice(1):r+=i}return r}return""}return t?t+"":""},t}();return nt.installed=!1,nt.install=function(e){if(nt.installed){C("already installed.");return}tt=e,K(tt),Q(tt),Z(tt),N.Vue=tt,nt.installed=!0},typeof window!="undefined"&&window.Vue&&window.Vue.use(nt),nt});